<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Animations with Back to Top</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            height: 400vh;
        }

        .section {
            height: 100vh;
            display: flex;
            justify-content: center;
            color: black;
            align-items: center;
            font-size: 2em;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
        }

        .animate {
            opacity: 1;
            transform: translateY(0);
        }

        #backToTopBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #007bff;
            color: #ffffff;
            border-radius: 50%;

            font-size: 1em;
            cursor: pointer;
            display: none;
        }
    </style>
</head>

<body>
    <div class="section" id="section1">Section 1</div>
    <div class="section" id="section2">Section 2</div>
    <div class="section" id="section3">Section 3</div>
    <div class="section" id="section4">Section 4</div>

    <button id="backToTopBtn" onclick="scrollToTop()">^</button>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var sections = document.querySelectorAll(".section");
            var backToTopBtn = document.getElementById("backToTopBtn");

            function isInViewport(element) {
                var rect = element.getBoundingClientRect();
                return (
                    rect.top >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
                );
            }

            function animateSections() {
                sections.forEach(function (section) {
                    if (isInViewport(section)) {
                        section.classList.add("animate");
                    }
                });

                // Show/hide back to top button
                if (window.scrollY > window.innerHeight / 2) {
                    backToTopBtn.style.display = "block";
                } else {
                    backToTopBtn.style.display = "none";
                }
            }

            // Initial check when the page loads
            animateSections();

            // Check on scroll
            document.addEventListener("scroll", function () {
                animateSections();
            });
        });

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: "smooth" });
        }
    </script>
</body>

</html>